идеи по улучшению . Вынести все настройки в проперти,  разнести логику по слоям
